@import "colors"

$node-radius: 4rem

$edge-width: 0.2rem
$edge-packet-width: 8px

$edge-packet-color-1: $color-accent
$edge-packet-color-2: $color-accent

@import url(https://fonts.googleapis.com/css?family=PT+Sans+Narrow)

.graph
  position: relative
  width: 100%
  height: 100%
  overflow: hidden

.graph__nodes, .graph__edges
  position: absolute
  width: 100%
  height: 100%

.graph__node
  display: block
  box-sizing: border-box

  width: $node-radius
  height: $node-radius

  // center text
  line-height: 4rem - 2*$edge-width
  text-align: center

  background: $color-primary-dark
  border: $color-primary solid $edge-width
  border-radius: 10rem
  cursor: pointer

  font-family: "PT Sans Narrow", sans-serif
  font-size: 75%

.graph__edge
  position: absolute

  height: $edge-width
  background: rgba($color-primary-dark, 0.5)

  // not using "hidden" reduces cpu/gpu usage by 50%
  // overflow: hidden

  transform-origin: 0 50%
  transform: rotate(10deg)

.graph__edge__packet
  position: absolute
  top: 0
  left: 0
  height: 100%
  width: $edge-packet-width
  transition: left linear

  background: $color-accent

  &--on, &--reverse
    left: 100%

  &--reverse#{&}--on
    left: 0

